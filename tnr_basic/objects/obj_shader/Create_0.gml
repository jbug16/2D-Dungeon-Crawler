palDefault      = [255,255,255,082,030,046,120,024,038,165,045,039,201,109,069,204,165,098,207,194,129,227,231,171,247,225,188,217,182,145,199,151,125,141,091,087,087,050,034,040,034,031,065,051,037,099,073,044,131,107,063,162,157,107,151,181,138,101,132,092,058,089,065,032,055,045,032,044,017,058,059,061,095,099,103,134,149,152,172,194,195,212,237,237,172,220,241,124,168,213,076,110,173,062,061,138,055,042,094,051,020,077,088,038,079,114,064,074,133,091,105,177,139,154,223,185,202,234,220,230,000,000,000];
palMulfok32     = [91,166,117,107,201,108,171,221,100,252,239,141,255,184,121,234,98,98,204,66,94,163,40,88,117,23,86,57,9,71,97,24,81,135,53,85,166,85,95,201,115,115,242,174,153,255,195,242,238,143,203,212,110,179,135,62,132,31,16,42,74,48,82,123,84,128,166,133,159,217,189,200,255,255,255,174,226,255,141,183,255,109,128,250,132,101,236,131,77,196,125,45,160,78,24,124];
palMorning32    = [255,247,185,241,206,160,218,159,138,157,110,104,107,76,82,68,50,58,127,60,76,203,66,81,243,122,46,255,190,52,255,253,77,181,232,42,83,184,37,43,141,56,31,94,63,31,65,55,24,25,31,49,55,72,75,89,111,114,134,151,188,209,217,252,254,254,143,238,238,103,201,231,78,149,215,67,108,165,60,72,121,44,43,72,100,62,139,163,78,167,233,136,207,255,202,225];
palCarnival32   = [77,34,53,113,40,42,151,86,56,208,118,62,235,172,77,242,208,141,221,172,136,198,141,128,175,109,119,199,68,70,159,56,71,110,64,109,167,167,88,113,129,65,73,101,65,55,67,59,42,28,49,66,49,87,77,82,138,85,106,151,92,129,163,125,173,200,176,214,217,236,230,223,207,204,202,166,166,166,120,120,120,98,98,98,74,74,74,54,54,54,97,140,112,139,116,99];
palPunolite     = [46,46,67,74,75,91,112,123,137,169,188,191,230,238,237,252,251,243,252,235,168,245,196,124,227,151,100,192,104,82,157,67,67,129,54,69,84,34,64,42,21,45,79,45,77,91,58,86,121,78,109,62,76,126,73,95,148,90,120,178,115,150,213,127,187,220,170,238,234,213,248,147,150,220,127,110,192,119,78,147,99,60,108,84,44,80,73,52,64,79,64,89,103,92,137,149];
palDowngraded32 = [123,51,76,161,77,85,199,115,105,227,160,132,242,203,155,211,123,134,175,93,139,128,64,133,91,51,116,65,32,81,92,72,106,136,125,141,184,180,178,220,218,201,255,255,224,182,245,219,137,217,217,114,182,207,92,139,168,78,102,121,70,73,105,68,53,93,61,0,61,98,23,72,148,44,75,199,66,79,224,107,81,242,165,97,252,239,141,177,212,128,128,184,120,101,141,120];
palPineapple32  = [67,0,42,137,0,39,217,36,60,255,97,87,255,183,98,199,110,70,115,57,46,52,17,31,3,7,16,39,59,45,69,130,57,156,185,59,255,216,50,255,130,59,209,64,31,124,25,26,49,12,27,131,63,52,235,156,110,255,218,172,255,255,228,191,195,198,109,138,141,41,59,73,4,21,40,3,62,94,28,146,167,119,214,193,255,224,220,255,136,169,192,59,148,96,23,97];
palMrCool       = [0,0,0,40,22,25,63,21,28,135,22,29,160,51,18,227,100,10,243,159,18,222,164,78,151,169,55,97,134,41,83,109,78,23,41,33,20,22,44,35,41,67,52,73,91,84,115,148,101,104,110,140,135,135,171,165,165,166,147,122,109,105,84,124,116,111,106,88,84,84,79,78,58,48,44,83,74,53,133,84,61,153,109,77,213,136,105,240,186,126,223,208,185,255,255,255];
palGreenstar    = [0,0,0,255,255,255,49,46,47,99,92,90,129,119,107,198,181,165,255,237,212,150,86,122,202,112,145,96,67,79,136,79,94,175,101,103,187,121,121,195,124,107,221,153,126,233,181,140,198,139,91,140,89,74,94,68,63,225,173,86,248,207,142,239,220,118,206,190,85,157,159,55,114,121,43,81,94,46,69,100,79,80,134,87,187,209,138,91,84,108,106,113,137,122,148,156,128,171,164,174,215,185];

#region PALETTE CODE
	application_surface_draw_enable(false);
	surface_resize(application_surface, CAMERA_WIDTH, CAMERA_HEIGHT);
	uniNum = shader_get_uniform(shd_palette,"num");
	uniPalette = shader_get_uniform(shd_palette,"palette");

	renderPalette = palDefault;

	renderPaletteLength = array_length(renderPalette) / 3;
#endregion



function RunShader(){
	var surf = surface_create(192,128);
	
	shader_set(shd_palette);
		shader_set_uniform_i(uniNum, renderPaletteLength);
		shader_set_uniform_f_array(uniPalette,renderPalette);	
		draw_surface(application_surface,0,0);
		surface_copy(surf,0,0,application_surface);	
	shader_reset();
	
	draw_surface_ext(surf,0,0,window_get_height() div CAMERA_HEIGHT, window_get_height() div CAMERA_HEIGHT, 0, 0xffffff, 1);
	surface_free(surf);
}//end function

function SwapShader() {
	if keyboard_check(ord("1")) then {renderPalette = palDefault     ;}
	if keyboard_check(ord("2")) then {renderPalette = palMulfok32    ;}
	if keyboard_check(ord("3")) then {renderPalette = palMorning32   ;}
	if keyboard_check(ord("4")) then {renderPalette = palCarnival32  ;}
	if keyboard_check(ord("5")) then {renderPalette = palPunolite    ;}
	if keyboard_check(ord("6")) then {renderPalette = palDowngraded32;}
	if keyboard_check(ord("7")) then {renderPalette = palPineapple32 ;}
	if keyboard_check(ord("8")) then {renderPalette = palMrCool      ;}
	if keyboard_check(ord("9")) then {renderPalette = palGreenstar   ;}
}//end function
	